package com.example.demo;

import java.util.Arrays;
import java.util.List;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ConfigurableApplicationContext;

import com.example.demo.employeedetails.Employee;
import com.example.demo.dao.EmployeeDao;

@SpringBootApplication
public class SqlhqlApplication {

	public static void main(String[] args) {
		ConfigurableApplicationContext run = SpringApplication.run(SqlhqlApplication.class, args);
		EmployeeDao bean = run.getBean(com.example.demo.dao.Employe);
		System.out.println("Total bean count =" + bean);
		bean.getClass().getName();
		System.out.println("  Sucessfully connected to the data base.... ");

		Employee employee1 = new Employee(111, "Dora Sri Vignesh", "Software Architect", "1234744", "dora@gmail.com",
				"Male", "Nellore");

		Employee employee2 = new Employee(222, "Srikanth Analdas", "Software Engineer", "25872744",
				"srikanth@gmail.com", "Male", "Hyderabad");

		Employee employee3 = new Employee(333, "Vijaya Durga", "Software Tester", "587744", "vijayadurga@gmail.com",
				"FeMale", "Nellore");

		Employee employee4 = new Employee(444, "Yamini Sindhura", "Data Analyst", "5874744", "yamini@gmail.com", "Male",
				"Tirupati");

		Employee employee5 = new Employee(555, "Greeshma", "HR Manager", "8794744", "greeshma@gmail.com", "FeMale",
				"Kandukur");

		Employee employee6 = new Employee(666, "Muni Shwetha", "Data Analyst", "987444", "shwetha@gmail.com", "FeMale",
				"Nellore");

		List<Employee> employers_Data = Arrays.asList(employee1, employee2, employee3, employee4, employee5, employee6);
		bean.saveAll(employers_Data);
		System.out.println("   Employers Data sucessfully stored into the data base .....");

		System.out.println(" ");
		System.out.println(
				" =========================================================================================  ");

		System.out.println("  Getting information from the  mysql data base ....    ");

		List<Employee> allUsersHQL = bean.getAllUsersHQL();
		System.out.println(allUsersHQL);
		System.out.println(" ");
		System.out.println("  By using for each .........................");
		for (Employee data1fromDatabase : allUsersHQL) {
			System.out.println(" Getting all details from the data base :" + data1fromDatabase);

			System.out.println(" ");
			System.out.println(
					" =========================================================================================  ");

			System.out.println("   Getting all the details from the Mysql using SQL QUERY ");
			System.out.println(
					"  Here we have to write query based on our condition it will go and fetch the data ......");

			List<Employee> allEmployersBasedOnLocation = bean.getAllEmployersBasedOnLocation("Nellore");
			System.out.println("  Fetching data based on employers Location :" + allEmployersBasedOnLocation);
			System.out.println("   By using for each loop   ");
			for (Employee data2UsingLocation : allEmployersBasedOnLocation) {
				System.out.println(" Fetching employers data using location =" + data2UsingLocation);

				System.out.println(" ");
				System.out.println(
						" =========================================================================================  ");
				System.out.println(
						"  Selection HQL query we are writing our own query to get details from the data base");
				System.out.println("  Here we have mention true native = true    ");

				List<Employee> allEmployersDataBasedOnGender = bean.getAllEmployersDataBasedOnGender("FeMale");
				for (Employee gender : allEmployersDataBasedOnGender) {
					System.out.println(" Fetching employee data based on gender =" + gender);
				}

			}

		}

	}

}
